<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Office Green | Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<header>
    <h1><span style="color:var(--accent-color);">■</span> Dashboard Gerencial</h1>
    <div class="actions">
        <a th:href="@{/picking}" class="btn btn-primary">Nova Separação</a>
        <a th:href="@{/logout}" class="btn btn-secondary">Sair</a>
    </div>
</header>

<main class="container">
    <div class="dashboard-grid">

        <div class="card">
            <div class="card-header">Status do Dia</div>
            <div style="font-size: 2rem; font-weight: bold; color: var(--primary-color);">
                <span th:text="${completedOps}">12</span> / <span th:text="${totalOps}">15</span>
            </div>
            <p class="text-muted">Ordens Finalizadas</p>
        </div>

        <div class="card">
            <div class="card-header">Pendências (Backlog)</div>
            <ul style="list-style: none; padding: 0;">
                <li th:each="alert : ${backlogAlerts}" style="margin-bottom: 5px; color: var(--danger-color);">
                    ⚠ <span th:text="${alert.message}">Falta Material X</span>
                </li>
                <li th:if="${#lists.isEmpty(backlogAlerts)}">Nenhuma pendência crítica.</li>
            </ul>
        </div>

        <div class="card">
            <div class="card-header">Eficiência</div>
            <div style="background: #eee; height: 20px; border-radius: 10px; margin-top: 10px;">
                <div style="background: var(--accent-color); height: 100%; border-radius: 10px;"
                     th:style="'width:' + ${efficiency} + '%'"></div>
            </div>
            <p><span th:text="${efficiency}">95</span>% de precisão</p>
        </div>
    </div>
</main>

<script th:src="@{/js/main.js}"></script>
</body>
</html>